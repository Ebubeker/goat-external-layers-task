{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/babel-loader/lib/index.js!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/eslint-loader/index.js??ref--13-0!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/controllers/OlBaseController.js","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/controllers/OlBaseController.js","mtime":1657636289859},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/babel-loader/lib/index.js","mtime":1657636581481},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/eslint-loader/index.js","mtime":1657636581253}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _defineProperty from \"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport VectorSource from \"ol/source/Vector\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport Overlay from \"ol/Overlay.js\";\n\nvar OlBaseController =\n/*#__PURE__*/\nfunction () {\n  /**\n   * The tooltip element.\n   * @type {Element}\n   */\n\n  /**\n   * Overlay to show the measurement.\n   * @type {module:ol/Overlay}\n   */\n\n  /**\n   * The help tooltip element.\n   * @type {Element}\n   */\n\n  /**\n   * Overlay to show help tooltip message.\n   * @type {module:ol/Overlay}\n   */\n\n  /**\n   * Overlay objects to be removed on map clear.\n   * @type {module:ol/Overlay []}\n   */\n  function OlBaseController(map) {\n    _classCallCheck(this, OlBaseController);\n\n    _defineProperty(this, \"tooltipElement\", void 0);\n\n    _defineProperty(this, \"tooltip\", void 0);\n\n    _defineProperty(this, \"helpTooltipElement\", void 0);\n\n    _defineProperty(this, \"helpTooltip\", void 0);\n\n    _defineProperty(this, \"overlayersGarbageCollector\", []);\n\n    Object.assign(this, {\n      map: map\n    });\n  }\n  /**\n   * Creates a vector layer and adds it to the\n   * map.\n   */\n\n\n  _createClass(OlBaseController, [{\n    key: \"createLayer\",\n    value: function createLayer(name, style) {\n      var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var me = this; // create a vector layer\n\n      var source = new VectorSource({\n        wrapX: false\n      });\n      var options = Object.assign(opt, {\n        name: name,\n        displayInLayerList: false,\n        zIndex: 10,\n        source: source,\n        style: style\n      });\n      var vector = new VectorLayer(options);\n      me.map.addLayer(vector); // make vector source and layer available as member\n\n      me.source = source;\n      me.layer = vector;\n    }\n    /**\n     * Get layer source\n     */\n\n  }, {\n    key: \"getLayerSource\",\n    value: function getLayerSource() {\n      var me = this;\n      return me.source;\n    }\n    /**\n     * Creates a value tooltip\n     */\n\n  }, {\n    key: \"createTooltip\",\n    value: function createTooltip() {\n      var me = this;\n\n      if (me.tooltipElement) {\n        me.tooltipElement.parentNode.removeChild(me.tooltipElement);\n      }\n\n      me.tooltipElement = document.createElement(\"div\");\n      me.tooltipElement.className = \"tooltip tooltip-measure\";\n      me.tooltip = new Overlay({\n        element: me.tooltipElement,\n        offset: [0, -22],\n        positioning: \"bottom-center\"\n      });\n      me.map.addOverlay(me.tooltip);\n      me.overlayersGarbageCollector.push(me.tooltip);\n    }\n    /**\n     * Creates a help tooltip\n     */\n\n  }, {\n    key: \"createHelpTooltip\",\n    value: function createHelpTooltip() {\n      var me = this;\n\n      if (me.helpTooltipElement) {\n        me.helpTooltipElement.parentNode.removeChild(me.helpTooltipElement);\n      }\n\n      me.helpTooltipElement = document.createElement(\"div\");\n      me.helpTooltipElement.className = \"tooltip\";\n      me.helpTooltip = new Overlay({\n        element: me.helpTooltipElement,\n        offset: [15, 15],\n        positioning: \"top-left\",\n        stopEvent: true,\n        insertFirst: false\n      });\n      me.map.addOverlay(me.helpTooltip);\n      me.overlayersGarbageCollector.push(me.helpTooltip);\n    }\n  }, {\n    key: \"clearOverlays\",\n    value: function clearOverlays() {\n      var me = this;\n\n      if (me.overlayersGarbageCollector) {\n        me.overlayersGarbageCollector.forEach(function (overlay) {\n          me.map.removeOverlay(overlay);\n        });\n        me.overlayersGarbageCollector = [];\n      }\n    }\n    /**\n     * Removes the current interaction and clears the values.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var me = this;\n\n      if (me.removeInteraction) {\n        me.removeInteraction();\n      }\n\n      me.clearOverlays();\n      me.source.clear();\n    }\n  }]);\n\n  return OlBaseController;\n}();\n\nexport { OlBaseController as default };",{"version":3,"sources":["/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/controllers/OlBaseController.js"],"names":["VectorSource","VectorLayer","Overlay","OlBaseController","map","Object","assign","name","style","opt","me","source","wrapX","options","displayInLayerList","zIndex","vector","addLayer","layer","tooltipElement","parentNode","removeChild","document","createElement","className","tooltip","element","offset","positioning","addOverlay","overlayersGarbageCollector","push","helpTooltipElement","helpTooltip","stopEvent","insertFirst","forEach","overlay","removeOverlay","removeInteraction","clearOverlays","clear"],"mappings":"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","sourcesContent":["import VectorSource from \"ol/source/Vector\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport Overlay from \"ol/Overlay.js\";\n\nexport default class OlBaseController {\n  /**\n   * The tooltip element.\n   * @type {Element}\n   */\n  tooltipElement;\n\n  /**\n   * Overlay to show the measurement.\n   * @type {module:ol/Overlay}\n   */\n  tooltip;\n\n  /**\n   * The help tooltip element.\n   * @type {Element}\n   */\n  helpTooltipElement;\n\n  /**\n   * Overlay to show help tooltip message.\n   * @type {module:ol/Overlay}\n   */\n  helpTooltip;\n\n  /**\n   * Overlay objects to be removed on map clear.\n   * @type {module:ol/Overlay []}\n   */\n  overlayersGarbageCollector = [];\n\n  constructor(map) {\n    Object.assign(this, { map });\n  }\n\n  /**\n   * Creates a vector layer and adds it to the\n   * map.\n   */\n  createLayer(name, style, opt = {}) {\n    const me = this;\n    // create a vector layer\n    const source = new VectorSource({\n      wrapX: false\n    });\n    const options = Object.assign(opt, {\n      name: name,\n      displayInLayerList: false,\n      zIndex: 10,\n      source: source,\n      style: style\n    });\n\n    const vector = new VectorLayer(options);\n\n    me.map.addLayer(vector);\n\n    // make vector source and layer available as member\n    me.source = source;\n    me.layer = vector;\n  }\n\n  /**\n   * Get layer source\n   */\n  getLayerSource() {\n    const me = this;\n    return me.source;\n  }\n\n  /**\n   * Creates a value tooltip\n   */\n  createTooltip() {\n    const me = this;\n    if (me.tooltipElement) {\n      me.tooltipElement.parentNode.removeChild(me.tooltipElement);\n    }\n    me.tooltipElement = document.createElement(\"div\");\n    me.tooltipElement.className = \"tooltip tooltip-measure\";\n    me.tooltip = new Overlay({\n      element: me.tooltipElement,\n      offset: [0, -22],\n      positioning: \"bottom-center\"\n    });\n    me.map.addOverlay(me.tooltip);\n    me.overlayersGarbageCollector.push(me.tooltip);\n  }\n\n  /**\n   * Creates a help tooltip\n   */\n\n  createHelpTooltip() {\n    const me = this;\n    if (me.helpTooltipElement) {\n      me.helpTooltipElement.parentNode.removeChild(me.helpTooltipElement);\n    }\n    me.helpTooltipElement = document.createElement(\"div\");\n    me.helpTooltipElement.className = \"tooltip\";\n    me.helpTooltip = new Overlay({\n      element: me.helpTooltipElement,\n      offset: [15, 15],\n      positioning: \"top-left\",\n      stopEvent: true,\n      insertFirst: false\n    });\n    me.map.addOverlay(me.helpTooltip);\n    me.overlayersGarbageCollector.push(me.helpTooltip);\n  }\n\n  clearOverlays() {\n    const me = this;\n    if (me.overlayersGarbageCollector) {\n      me.overlayersGarbageCollector.forEach(overlay => {\n        me.map.removeOverlay(overlay);\n      });\n      me.overlayersGarbageCollector = [];\n    }\n  }\n\n  /**\n   * Removes the current interaction and clears the values.\n   */\n  clear() {\n    const me = this;\n    if (me.removeInteraction) {\n      me.removeInteraction();\n    }\n    me.clearOverlays();\n    me.source.clear();\n  }\n}\n"]}]}