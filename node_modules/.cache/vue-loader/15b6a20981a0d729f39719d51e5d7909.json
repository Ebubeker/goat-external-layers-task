{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/viewer/ol/controls/BackgroundSwitcher.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/viewer/ol/controls/BackgroundSwitcher.vue","mtime":1657636289859},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/babel-loader/lib/index.js","mtime":1657636581481},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vuetify-loader/lib/loader.js","mtime":1657636582513},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js","mtime":1657636582549}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Mapable } from \"../../../../mixins/Mapable\";\nexport default {\n  mixins: [Mapable],\n  name: \"background-switcher\",\n  data: () => ({\n    backgroundLayers: []\n  }),\n  methods: {\n    /**\n     * This function is executed, after the map is bound (see mixins/Mapable)\n     */\n    onMapBound() {\n      this.map\n        .getLayers()\n        .getArray()\n        .forEach(layer => {\n          if (layer.get(\"group\") === \"basemap\") {\n            this.backgroundLayers.push(layer);\n          }\n        });\n      const notActive = this.backgroundLayers.filter(\n        layer => layer.getVisible() === false\n      );\n      if (notActive.length === this.backgroundLayers.length) {\n        notActive[0].setVisible(true);\n      }\n    },\n    selectBaselayer(item) {\n      this.backgroundLayers.forEach(layer => {\n        layer.setVisible(false);\n      });\n      item.setVisible(true);\n    },\n    getThumbnail(layer) {\n      if (layer.thumbnail) {\n        return layer.thumbnail;\n      } else {\n        return `img/background-layers/${layer.get(\"name\")}.png`;\n      }\n    }\n  }\n};\n",{"version":3,"sources":["BackgroundSwitcher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BackgroundSwitcher.vue","sourceRoot":"src/components/viewer/ol/controls","sourcesContent":["<template>\n  <v-speed-dial\n    direction=\"top\"\n    style=\"position:absolute;bottom:30px;left:30px;z-index:2;\"\n    transition=\"slide-y-reverse-transition\"\n    v-if=\"backgroundLayers.length > 0\"\n  >\n    <template v-slot:activator>\n      <v-card\n        v-for=\"(item, index) in backgroundLayers\"\n        max-width=\"80\"\n        class=\"mx-auto pa-1 elevation-5\"\n        :key=\"index\"\n        v-show=\"item.getVisible() === true\"\n        @click=\"selectBaselayer(item)\"\n      >\n        <v-img\n          :src=\"getThumbnail(item)\"\n          class=\"white--text\"\n          height=\"75\"\n          gradient=\"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.5)\"\n        >\n          <v-card-title\n            class=\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\"\n            style=\"font-size: 10px;\"\n            >{{ $t(`map.layerName.${item.get(\"name\")}`) }}</v-card-title\n          >\n        </v-img>\n      </v-card>\n    </template>\n    <template v-for=\"(item, index) in backgroundLayers\">\n      <v-card\n        :key=\"index\"\n        max-width=\"80\"\n        v-show=\"item.getVisible() === false\"\n        @click=\"selectBaselayer(item)\"\n        class=\"mx-auto  mt-2 pa-1\"\n      >\n        <v-img\n          :src=\"getThumbnail(item)\"\n          class=\"white--text\"\n          height=\"75\"\n          gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\n        >\n          <v-card-title\n            class=\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\"\n            style=\"font-size: 10px;\"\n            >{{ $t(`map.layerName.${item.get(\"name\")}`) }}</v-card-title\n          >\n        </v-img>\n      </v-card>\n    </template>\n  </v-speed-dial>\n</template>\n\n<script>\nimport { Mapable } from \"../../../../mixins/Mapable\";\nexport default {\n  mixins: [Mapable],\n  name: \"background-switcher\",\n  data: () => ({\n    backgroundLayers: []\n  }),\n  methods: {\n    /**\n     * This function is executed, after the map is bound (see mixins/Mapable)\n     */\n    onMapBound() {\n      this.map\n        .getLayers()\n        .getArray()\n        .forEach(layer => {\n          if (layer.get(\"group\") === \"basemap\") {\n            this.backgroundLayers.push(layer);\n          }\n        });\n      const notActive = this.backgroundLayers.filter(\n        layer => layer.getVisible() === false\n      );\n      if (notActive.length === this.backgroundLayers.length) {\n        notActive[0].setVisible(true);\n      }\n    },\n    selectBaselayer(item) {\n      this.backgroundLayers.forEach(layer => {\n        layer.setVisible(false);\n      });\n      item.setVisible(true);\n    },\n    getThumbnail(layer) {\n      if (layer.thumbnail) {\n        return layer.thumbnail;\n      } else {\n        return `img/background-layers/${layer.get(\"name\")}.png`;\n      }\n    }\n  }\n};\n</script>\n"]}]}