{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/edit/Edit.vue?vue&type=template&id=09e3a4dc&scoped=true&","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/edit/Edit.vue","mtime":1657636289855},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1657636583285},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vuetify-loader/lib/loader.js","mtime":1657636582513},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js","mtime":1657636582549}],"contextDependencies":[],"result":["\n<v-flex xs12 sm8 md4>\n  <v-card flat>\n    <v-subheader class=\"mb-4\">\n      <span class=\"title\">{{ $t(\"appBar.edit.title\") }}</span>\n    </v-subheader>\n    <v-card-text class=\"pt-0 pb-0 px-0 mx-0\">\n      <v-divider></v-divider>\n    </v-card-text>\n    <v-card-text class=\"pa-2\">\n      <div v-if=\"scenarioList.length === 1 && scenarioList[0].id === null\">\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <v-btn\n              v-on=\"on\"\n              class=\"mt-n11 ml-2\"\n              :color=\"appColor.primary\"\n              @click=\"showScenarioDialog = true\"\n              fab\n              dark\n              small\n            >\n              <v-icon dark>add</v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $t(\"appBar.edit.createScenario\") }}</span>\n        </v-tooltip>\n      </div>\n    </v-card-text>\n\n    <v-card class=\"px-16 mx-4 py-0 mb-2 fill-height\" flat>\n      <!-- CREATE SCENARIO  -->\n      <div v-if=\"scenarioList.length > 1\">\n        <v-row class=\"mt-4\" no-gutters no-wrap>\n          <v-select\n            v-model=\"activeScenario\"\n            :items=\"scenarioList\"\n            style=\"max-width: 260px;\"\n            item-text=\"scenario_name\"\n            item-value=\"id\"\n            label=\"Select scenario\"\n            solo\n          >\n            <template\n              class=\"create-scenario-text\"\n              slot=\"selection\"\n              slot-scope=\"{ item }\"\n            >\n              {{ item.scenario_name }}\n            </template>\n            <template\n              class=\"create-scenario-text\"\n              slot=\"item\"\n              slot-scope=\"{ item }\"\n            >\n              {{ item.scenario_name }}\n            </template>\n          </v-select>\n\n          <div v-if=\"activeScenario\">\n            <v-speed-dial\n              style=\"z-index:100;\"\n              v-model=\"scenarioSpeedDialFab\"\n              direction=\"bottom\"\n              class=\"ml-3 mt-2\"\n              transition=\"slide-y-reverse-transition\"\n            >\n              <template v-slot:activator>\n                <v-btn\n                  v-model=\"scenarioSpeedDialFab\"\n                  :color=\"scenarioSpeedDialFab ? 'error' : appColor.primary\"\n                  dark\n                  small\n                  fab\n                >\n                  <v-icon v-if=\"scenarioSpeedDialFab\">\n                    close\n                  </v-icon>\n                  <v-icon v-else>\n                    more_vert\n                  </v-icon>\n                </v-btn>\n              </template>\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    v-on=\"on\"\n                    :color=\"appColor.primary\"\n                    fab\n                    dark\n                    x-small\n                    v-if=\"scenarios.length < currentUser.limit_scenarios\"\n                    @click=\"showScenarioDialog = true\"\n                  >\n                    <v-icon dark>add</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.createScenario\") }}</span>\n              </v-tooltip>\n              <v-tooltip v-show=\"activeScenario\" top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    v-show=\"activeScenario\"\n                    v-on=\"on\"\n                    :color=\"appColor.primary\"\n                    fab\n                    dark\n                    x-small\n                    @click=\"\n                      showScenarioDialog = true;\n                      activeScenarioId = activeScenario;\n                    \"\n                  >\n                    <v-icon dark>edit</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.editScenarioName\") }}</span>\n              </v-tooltip>\n              <v-tooltip v-show=\"activeScenario\" top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    v-show=\"activeScenario\"\n                    v-on=\"on\"\n                    color=\"error\"\n                    fab\n                    dark\n                    x-small\n                    @click=\"deleteScenario\"\n                  >\n                    <v-icon dark>delete</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.deleteScenario\") }}</span>\n              </v-tooltip>\n            </v-speed-dial>\n          </div>\n          <div v-else>\n            <v-tooltip top>\n              <template v-slot:activator=\"{ on }\">\n                <v-btn\n                  v-on=\"on\"\n                  :color=\"appColor.primary\"\n                  class=\"ml-3 mt-2\"\n                  fab\n                  :disabled=\"scenarios.length >= currentUser.limit_scenarios\"\n                  small\n                  @click=\"showScenarioDialog = true\"\n                >\n                  <v-icon color=\"white\">add</v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $t(\"appBar.edit.createScenario\") }}</span>\n            </v-tooltip>\n          </div>\n        </v-row>\n      </div>\n      <v-alert\n        v-if=\"scenarios.length >= currentUser.limit_scenarios\"\n        dense\n        outlined\n        type=\"error\"\n      >\n        {{ $t(\"appBar.edit.scenarioLimitReached\") }}\n      </v-alert>\n      <div v-if=\"scenarioList.length > 1 && activeScenario\">\n        <v-divider></v-divider>\n        <v-subheader class=\"ml-0 pl-0 mb-0 pb-0\">\n          <v-icon :style=\"`color:${appColor.secondary};`\" small class=\"mr-2\"\n            >fas fa-layer-group</v-icon\n          >\n          <h3>{{ $t(\"appBar.edit.selectLayer\") }}</h3>\n        </v-subheader>\n        <v-select\n          class=\"mt-4\"\n          :items=\"editableLayers\"\n          v-model=\"selectedLayer\"\n          item-value=\"name\"\n          return-object\n          solo\n          :label=\"$t('appBar.edit.layerToEdit')\"\n        >\n          <template slot=\"selection\" slot-scope=\"{ item }\">\n            {{ translate(\"layerName\", item.name) }}\n          </template>\n          <template slot=\"item\" slot-scope=\"{ item }\">\n            {{ translate(\"layerName\", item.name) }}\n          </template>\n        </v-select>\n      </div>\n\n      <template v-if=\"selectedLayer && schema[layerName] && activeScenario\">\n        <v-divider></v-divider>\n        <!-- ==== <EDIT> ====-->\n\n        <v-subheader\n          v-show=\"selectedLayer !== null && activeScenario\"\n          class=\"clickable ml-0 pl-0\"\n          @click=\"editElVisible = !editElVisible\"\n        >\n          <v-icon\n            :style=\"\n              editElVisible === true ? { color: appColor.secondary } : {}\n            \"\n            small\n            class=\"mr-2\"\n            >fas fa-edit</v-icon\n          >\n          <h3>{{ $t(\"appBar.edit.editTools\") }}</h3>\n          <v-spacer></v-spacer>\n          <v-icon v-html=\"editElVisible === true ? 'remove' : 'add'\"></v-icon>\n        </v-subheader>\n\n        <div class=\"ml-2\" v-if=\"editElVisible\">\n          <span\n            v-show=\"selectedLayer != null && selectedLayer['name'] !== 'poi'\"\n            class=\"py-1 mb-0 mt-3 pl-0 ml-0\"\n          >\n            <h4>{{ $t(\"appBar.edit.selectFeatures\") }}</h4>\n          </span>\n\n          <v-flex\n            xs12\n            v-show=\"selectedLayer != null && selectFeaturesVisible\"\n            class=\"mt-1 pt-0 mb-4\"\n          >\n            <v-btn-toggle\n              v-show=\"selectedLayer['name'] != 'poi'\"\n              v-model=\"toggleSelection\"\n            >\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn v-on=\"on\" text>\n                    <v-icon>far fa-dot-circle</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.drawCircle\") }}</span>\n              </v-tooltip>\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn v-on=\"on\" text v-show=\"false\">\n                    <v-icon>far fa-hand-pointer</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.selectOnMap\") }}</span>\n              </v-tooltip>\n            </v-btn-toggle>\n          </v-flex>\n\n          <span v-show=\"selectedLayer != null\" class=\"py-1 mb-0 pl-0 ml-0\">\n            <h4>{{ $t(\"appBar.edit.editTools\") }}</h4>\n          </span>\n\n          <v-flex\n            xs12\n            v-show=\"selectEditVisible && selectedLayer != null\"\n            class=\"mt-1 pt-0 mb-3\"\n          >\n            <v-btn-toggle v-model=\"toggleEdit\">\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn :value=\"1\" v-on=\"on\" text>\n                    <v-icon medium>add</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.drawFeatureTooltip\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                v-show=\"selectedLayer['canModifyGeom'] !== false\"\n                top\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    v-show=\"selectedLayer['canModifyGeom'] !== false\"\n                    :value=\"2\"\n                    v-on=\"on\"\n                    text\n                  >\n                    <v-icon>far fa-edit</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.modifyFeatureTooltip\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    :value=\"3\"\n                    v-show=\"selectedLayer['modifyAttributes'] === true\"\n                    v-on=\"on\"\n                    text\n                  >\n                    <v-icon>far fa-list-alt</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.modifyAttributes\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn :value=\"4\" v-on=\"on\" text>\n                    <v-icon>far fa-trash-alt</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.deleteFeature\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                top\n                v-show=\"\n                  !['Point'].some(r =>\n                    selectedLayer['editGeometry'].includes(r)\n                  )\n                \"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    v-show=\"\n                      !['Point', 'LineString'].some(r =>\n                        selectedLayer['editGeometry'].includes(r)\n                      )\n                    \"\n                    :value=\"5\"\n                    v-on=\"on\"\n                    text\n                  >\n                    <v-icon>far fa-clone</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.moveFeature\") }}</span>\n              </v-tooltip>\n              <v-tooltip top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    :value=\"6\"\n                    v-show=\"\n                      !['Point', 'LineString'].some(r =>\n                        selectedLayer['editGeometry'].includes(r)\n                      )\n                    \"\n                    v-on=\"on\"\n                    text\n                  >\n                    <v-icon>far fa-object-group</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.drawPolygonHole\") }}</span>\n              </v-tooltip>\n            </v-btn-toggle>\n            <br />\n\n            <v-btn-toggle v-model=\"toggleEdit\">\n              <v-tooltip v-if=\"selectedLayer['name'] === 'building'\" top>\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn\n                    class=\"ml-0 mr-2 mt-2\"\n                    v-if=\"selectedLayer['name'] === 'building'\"\n                    :value=\"7\"\n                    v-on=\"on\"\n                    text\n                  >\n                    <v-icon>far fa-building</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.addBldEntrance\") }}</span>\n              </v-tooltip>\n            </v-btn-toggle>\n\n            <v-btn-toggle v-model=\"toggleSnapGuide\">\n              <v-tooltip\n                top\n                v-if=\"\n                  ['Polygon', 'MultiPolygon'].some(r =>\n                    selectedLayer['editGeometry'].includes(r)\n                  )\n                \"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn class=\"ml-0 mt-2\" v-on=\"on\" text>\n                    <v-icon>fas fa-border-all</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.snapGuide\") }}</span>\n              </v-tooltip>\n            </v-btn-toggle>\n\n            <v-btn-toggle v-model=\"toggleFeatureLabels\">\n              <v-tooltip\n                top\n                v-if=\"\n                  ['Polygon', 'MultiPolygon'].some(r =>\n                    selectedLayer['editGeometry'].includes(r)\n                  )\n                \"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-btn class=\"ml-2 mt-2\" v-on=\"on\" text>\n                    <v-icon>fas fa-font</v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $t(\"appBar.edit.featureLabels\") }}</span>\n              </v-tooltip>\n            </v-btn-toggle>\n          </v-flex>\n        </div>\n        <v-divider></v-divider>\n        <!-- ==== </EDIT> ==== -->\n      </template>\n\n      <template v-if=\"activeScenario && selectedLayer && schema[layerName]\">\n        <!-- ==== <DATA TABLE> ====-->\n        <v-subheader\n          class=\"clickable ml-0 pl-0\"\n          @click=\"dataTableElVisible = !dataTableElVisible\"\n        >\n          <v-icon\n            :style=\"\n              dataTableElVisible === true ? { color: appColor.secondary } : {}\n            \"\n            small\n            class=\"mr-2\"\n            >far fa-list-alt</v-icon\n          >\n          <h3>{{ $t(\"appBar.edit.scenarioFeatures\") }}</h3>\n          <v-spacer></v-spacer>\n          <v-icon\n            v-html=\"dataTableElVisible === true ? 'remove' : 'add'\"\n          ></v-icon>\n        </v-subheader>\n        <div class=\"ml-2\" v-if=\"dataTableElVisible\">\n          <v-expand-transition>\n            <v-flex xs12 class=\"mt-1 pt-0 mb-0\">\n              <v-data-table\n                :headers=\"headers\"\n                :loading=\"isTableLoading\"\n                :items=\"scenarioDataTable\"\n                :items-per-page=\"15\"\n                class=\"elevation-0\"\n              >\n                <template v-slot:item.status=\"{ item }\">\n                  <v-chip\n                    small\n                    :color=\"\n                      item.status === 'uploaded' ? appColor.primary : 'error'\n                    \"\n                    dark\n                    class=\"mx-0 px-1\"\n                    >{{ $t(`appBar.edit.status.${item.status}`) }}</v-chip\n                  >\n                </template>\n                <template v-slot:item.type=\"{ item }\">\n                  <span>{{ $t(`appBar.edit.type.${item.type}`) }}</span>\n                </template>\n\n                <template v-slot:item.action=\"{ item }\">\n                  <!-- zoom to scenario feature -->\n                  <v-tooltip top>\n                    <template v-slot:activator=\"{ on }\">\n                      <v-icon\n                        v-on=\"on\"\n                        :disabled=\"isUploadBusy\"\n                        class=\"scenario-icon\"\n                        @click=\"scenarioActionBtnHandler(item, 'zoom')\"\n                      >\n                        zoom_out_map\n                      </v-icon>\n                    </template>\n                    <span>{{ $t(`map.tooltips.zoomToFeature`) }}</span>\n                  </v-tooltip>\n                  <!-- delete scenario feature -->\n                  <v-tooltip top>\n                    <template v-slot:activator=\"{ on }\">\n                      <v-icon\n                        v-show=\"isDeleteBtnVisible(item)\"\n                        class=\"scenario-icon-delete\"\n                        :disabled=\"isUploadBusy\"\n                        v-on=\"on\"\n                        @click=\"scenarioActionBtnHandler(item, 'delete')\"\n                      >\n                        delete\n                      </v-icon>\n                    </template>\n                    <span>{{ $t(`map.tooltips.deleteFeature`) }}</span>\n                  </v-tooltip>\n                  <v-tooltip top>\n                    <template v-slot:activator=\"{ on }\">\n                      <v-icon\n                        v-show=\"isRestoreBtnVisible(item)\"\n                        class=\"scenario-icon\"\n                        :disabled=\"isUploadBusy\"\n                        v-on=\"on\"\n                        @click=\"scenarioActionBtnHandler(item, 'restore')\"\n                      >\n                        restore_from_trash\n                      </v-icon>\n                    </template>\n                    <span>{{ $t(`map.tooltips.restoreFeature`) }}</span>\n                  </v-tooltip>\n                </template>\n              </v-data-table>\n            </v-flex>\n          </v-expand-transition>\n        </div>\n        <!-- ==== < /DATA TABLE> ====-->\n      </template>\n    </v-card>\n    <!-- ----- -->\n    <v-card-actions v-if=\"selectedLayer && schema[layerName]\">\n      <v-spacer></v-spacer>\n\n      <v-hover v-slot=\"{ hover }\">\n        <v-btn\n          v-show=\"selectedLayer\"\n          class=\"white--text\"\n          :color=\"hover ? 'error' : 'grey'\"\n          outlined\n          :loading=\"isDeleteAllBusy\"\n          :disabled=\"scenarioDataTable.length === 0 || isUploadBusy\"\n          @click=\"deleteAll\"\n        >\n          <v-icon left>delete</v-icon>{{ $t(\"appBar.edit.clearBtn\") }}\n        </v-btn>\n      </v-hover>\n    </v-card-actions>\n  </v-card>\n\n  <!-- Scenario dialog -->\n  <scenario-dialog\n    :visible=\"showScenarioDialog\"\n    :scenarioId=\"activeScenarioId\"\n    @close=\"\n      showScenarioDialog = false;\n      activeScenarioId = null;\n    \"\n  ></scenario-dialog>\n  <!-- Confirm Delete all  -->\n  <confirm ref=\"confirm\"></confirm>\n  <!-- Popup overlay  -->\n  <overlay-popup\n    style=\"cursor: default;\"\n    :title=\"$t(`map.popup.${popup.title}`)\"\n    v-show=\"popup.isVisible\"\n    ref=\"popup\"\n  >\n    <v-btn icon>\n      <v-icon>close</v-icon>\n    </v-btn>\n    <template v-slot:close>\n      <v-btn @click=\"closePopup()\" icon>\n        <v-icon>close</v-icon>\n      </v-btn>\n    </template>\n    <template v-slot:body>\n      <div v-if=\"popup.selectedInteraction === 'delete'\">\n        <b>{{ $t(\"appBar.edit.popup.deleteFeatureMsg\") }}</b>\n      </div>\n      <div\n        v-else-if=\"\n          ['add', 'modifyAttributes'].includes(popup.selectedInteraction)\n        \"\n      >\n        <v-form ref=\"edit-form\" v-model=\"formValid\">\n          <v-jsonschema-form\n            style=\"width:260px;\"\n            v-if=\"schema[layerName] && popup && popup.isVisible\"\n            :schema=\"schema[layerName]\"\n            :model=\"dataObject\"\n            :key=\"jsonFormKey\"\n            :options=\"options\"\n          />\n        </v-form>\n      </div>\n    </template>\n    <template v-slot:actions>\n      <template v-if=\"popup.selectedInteraction === 'delete'\">\n        <v-btn color=\"primary darken-1\" @click=\"ok('delete')\" text>{{\n          $t(\"buttonLabels.yes\")\n        }}</v-btn>\n        <v-btn color=\"grey\" text @click=\"closePopup()\">{{\n          $t(\"buttonLabels.cancel\")\n        }}</v-btn>\n      </template>\n      <template\n        v-else-if=\"\n          ['add', 'modifyAttributes'].includes(popup.selectedInteraction)\n        \"\n      >\n        <v-btn\n          color=\"primary darken-1\"\n          :disabled=\"formValid === false\"\n          @click=\"ok(popup.selectedInteraction)\"\n          text\n          >{{ $t(\"buttonLabels.save\") }}</v-btn\n        >\n        <v-btn color=\"grey\" text @click=\"closePopup()\">{{\n          $t(\"buttonLabels.cancel\")\n        }}</v-btn>\n      </template>\n    </template>\n  </overlay-popup>\n</v-flex>\n",null]}