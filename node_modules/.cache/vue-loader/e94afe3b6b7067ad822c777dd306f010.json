{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/changeStyle/StyleDialog.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/changeStyle/StyleDialog.vue","mtime":1657636289855},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/css-loader/index.js","mtime":1657636580953},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1657636583241},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/postcss-loader/src/index.js","mtime":1657636582109},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vuetify-loader/lib/loader.js","mtime":1657636582513},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js","mtime":1657636582549}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.v-dialog {\n  box-shadow: none;\n}\n",{"version":3,"sources":["StyleDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA","file":"StyleDialog.vue","sourceRoot":"src/components/layers/changeStyle","sourcesContent":["<template>\n  <v-dialog\n    width=\"300\"\n    overlay-opacity=\"0\"\n    persistent\n    no-click-animation\n    hide-overlay\n    v-model=\"dialog\"\n    content-class=\"v-dialog\"\n  >\n    <v-card\n      :style=\"[isExpanded ? { height: 'auto' } : { height: '50px' }]\"\n      style=\"position:fixed;top:10px;left:360px;z-index:2;min-width:350px;max-width:450px;height:450px;overflow:hidden;\"\n      v-draggable=\"draggableValue\"\n      ondragstart=\"return false;\"\n    >\n      <v-layout justify-space-between column fill-height>\n        <v-app-bar\n          :color=\"appColor.primary\"\n          height=\"50\"\n          style=\"cursor:grab;\"\n          dark\n          :ref=\"handleId\"\n        >\n          <v-app-bar-nav-icon>\n            <v-icon style=\"color:#ffffff;\">\n              fas fa-cog\n            </v-icon>\n          </v-app-bar-nav-icon>\n          <v-toolbar-title>\n            <b>{{ translate(\"layerName\", item.get(\"name\")) }}</b>\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-icon @click=\"expand\" class=\"toolbar-icons mr-2\">\n            {{ isExpanded ? \"fas fa-chevron-up\" : \"fas fa-chevron-down\" }}\n          </v-icon>\n          <v-icon @click=\"close\" class=\"toolbar-icons ml-2\">\n            fas fa-times\n          </v-icon>\n        </v-app-bar>\n        <vue-scroll>\n          <v-select\n            :items=\"getItemAttributes\"\n            @change=\"onItemAttribueChange($event)\"\n            :label=\"$t('appBar.stylePanel.selectAttribute')\"\n            outlined\n            style=\"width:400px;margin:auto;padding-top:20px;margin-bottom:-20px\"\n          ></v-select>\n          <span v-if=\"kind === `Fill`\">\n            <FillVectorStyle\n              :item=\"item\"\n              :ruleIndex=\"ith\"\n              :key=\"ith\"\n            ></FillVectorStyle>\n          </span>\n          <span v-else-if=\"kind === `Line`\">\n            <LineVectorStyle\n              :item=\"item\"\n              :ruleIndex=\"ith\"\n              :key=\"ith\"\n            ></LineVectorStyle>\n          </span>\n          <span v-else-if=\"kind === `Icon`\">\n            <IconVectorStyle\n              :item=\"item\"\n              :ruleIndex=\"ith\"\n              :key=\"ith\"\n            ></IconVectorStyle>\n          </span>\n        </vue-scroll>\n      </v-layout>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\nimport { Draggable } from \"draggable-vue-directive\";\nimport Legend from \"../../viewer/ol/controls/Legend\";\nimport FillVectorStyle from \"../changeStyle/FillVectorStyle\";\nimport LineVectorStyle from \"../changeStyle/LineVectorStyle\";\nimport IconVectorStyle from \"../changeStyle/IconVectorStyle\";\nimport { EventBus } from \"../../../EventBus\";\nimport { getNestedProperty } from \"../../../utils/Helpers\";\n\nexport default {\n  props: [\"item\", \"translate\", \"styleDialogStatus\"],\n  mixins: [Legend],\n  directives: {\n    Draggable\n  },\n  data: () => ({\n    isExpanded: true,\n    tab: null,\n    dialog: true,\n    kind: null,\n    ith: null,\n    handleId: \"handle-id\",\n    draggableValue: {\n      handle: undefined,\n      boundingElement: undefined,\n      resetInitialPos: undefined\n    }\n  }),\n  components: {\n    FillVectorStyle,\n    LineVectorStyle,\n    IconVectorStyle\n  },\n  computed: {\n    ...mapGetters(\"app\", {\n      appColor: \"appColor\"\n    }),\n    ...mapFields(\"map\", {\n      vectorTileStyles: \"vectorTileStyles\",\n      vectorTileStylesCopy: \"vectorTileStylesCopy\"\n    }),\n    getItem() {\n      return this.item;\n    },\n    getItemAttributes() {\n      const stylesObj = this.vectorTileStyles;\n      const currentLocale = this.$i18n.locale;\n      const layerName = this.item.get(\"name\");\n      return this.filterStylesOnActiveModeByLayerName(layerName).rules.map(\n        (rule, i) => {\n          return {\n            text: getNestedProperty(\n              stylesObj,\n              `${layerName}.translation.${rule.name}.${currentLocale}`\n            )\n              ? getNestedProperty(\n                  stylesObj,\n                  `${layerName}.translation.${rule.name}.${currentLocale}`\n                )\n              : rule.name,\n            value: i\n          };\n        }\n      );\n    }\n  },\n  methods: {\n    expand() {\n      this.isExpanded = !this.isExpanded;\n    },\n    close() {\n      EventBus.$emit(\"updateStyleDialogStatusForLayerTree\", false);\n      EventBus.$emit(\"updateStyleDialogStatusForLayerOrder\", false);\n      //Refresh the legend\n      this.item.set(\"layerTreeKey\", this.item.get(\"layerTreeKey\") + 1);\n    },\n    onItemAttribueChange(ith) {\n      this.ith = ith;\n      this.kind = this.filterStylesOnActiveModeByLayerName(\n        this.item.get(\"name\")\n      ).rules[ith].symbolizers[0].kind;\n    }\n  },\n  mounted() {\n    const element = document.getElementById(\"ol-map-container\");\n    this.draggableValue.resetInitialPos = false;\n    this.draggableValue.boundingElement = element;\n    this.draggableValue.handle = this.$refs[this.handleId];\n  }\n};\n</script>\n<style>\n.v-dialog {\n  box-shadow: none;\n}\n</style>\n"]}]}