{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/viewer/viewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/viewer/viewer.vue","mtime":1657636289859},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/babel-loader/lib/index.js","mtime":1657636581481},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vuetify-loader/lib/loader.js","mtime":1657636582513},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js","mtime":1657636582549}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport appMap from \"./ol/Map\";\nimport appMapillary from \"./mapillary/Mapillary\";\nimport IsochronThematicData from \"../isochrones/IsochroneThematicData.vue\";\nimport PrintViewer from \"./print/PrintViewer\";\nimport { mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\n\nexport default {\n  name: \"app-viewer\",\n  components: {\n    \"app-ol-map\": appMap,\n    \"app-mapillary\": appMapillary,\n    \"isochrone-thematic-data\": IsochronThematicData,\n    \"print-viewer\": PrintViewer\n  },\n  data() {\n    return {\n      miniViewOlMap: false,\n      mapillaryAccessToken:\n        \"MLY|4945732362162775|a3872ee8a2b737be51db110cdcdea3d4\"\n    };\n  },\n  computed: {\n    ...mapGetters(\"app\", {\n      appColor: \"appColor\"\n    }),\n    ...mapGetters(\"map\", {\n      print: \"print\",\n      studyArea: \"studyArea\"\n    }),\n    ...mapFields(\"map\", {\n      isMapillaryBtnDisabled: \"isMapillaryBtnDisabled\",\n      miniViewerVisible: \"miniViewerVisible\"\n    })\n  },\n  methods: {\n    switchViews() {\n      this.miniViewOlMap = !this.miniViewOlMap;\n      this.updateViews();\n    },\n    updateViews() {\n      setTimeout(() => {\n        const mapillaryRef = this.$refs[\"mapillary\"];\n        const olMapRef = this.$refs[\"olmap\"];\n        if (mapillaryRef) {\n          mapillaryRef.mapillary.resize();\n        }\n        if (olMapRef) {\n          olMapRef.map.updateSize();\n        }\n      }, 90);\n    },\n    closeMiniView() {\n      this.miniViewerVisible = false;\n      this.miniViewOlMap = false;\n      this.updateViews();\n    }\n  }\n};\n",{"version":3,"sources":["viewer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"viewer.vue","sourceRoot":"src/components/viewer","sourcesContent":["<template>\n  <div>\n    <div v-show=\"print.active === false\">\n      <!-- isochrone-thematic-data -->\n      <isochrone-thematic-data v-show=\"!miniViewOlMap\" />\n\n      <!-- mapillary-->\n      <div\n        v-if=\"miniViewerVisible\"\n        v-show=\"!isMapillaryBtnDisabled\"\n        class=\"elevation-4\"\n        :class=\"miniViewOlMap ? 'fullscreen' : 'miniview'\"\n      >\n        <div v-if=\"!miniViewOlMap\" id=\"close-miniview\" @click=\"closeMiniView()\">\n          <v-icon dark class=\"close-icon\">close</v-icon>\n        </div>\n        <div v-if=\"!miniViewOlMap\" id=\"switch-triangle\" @click=\"switchViews()\">\n          <v-icon large dark class=\"swap-icon\">swap_horiz</v-icon>\n        </div>\n        <div v-if=\"!miniViewOlMap\" id=\"mapillaryAttribution\" @click=\"open()\">\n          <a\n            href=\"https://www.mapillary.com\"\n            target=\"_blank\"\n            class=\"AttributionIconContainer\"\n          >\n            <div class=\"AttributionMapillaryLogo\"></div\n          ></a>\n        </div>\n        <app-mapillary\n          ref=\"mapillary\"\n          class=\"fullscreen\"\n          v-if=\"miniViewerVisible\"\n          :accessToken=\"mapillaryAccessToken\"\n          :baseLayerExtent=\"studyArea[0].get('bounds')\"\n        ></app-mapillary>\n      </div>\n\n      <!-- ol-map -->\n      <div :class=\"miniViewOlMap ? 'miniview' : 'fullscreen'\">\n        <div v-if=\"miniViewOlMap\" id=\"close-miniview\" @click=\"closeMiniView()\">\n          <v-icon dark class=\"close-icon\">close</v-icon>\n        </div>\n        <div v-if=\"miniViewOlMap\" id=\"switch-triangle\" @click=\"switchViews()\">\n          <v-icon large dark class=\"swap-icon\">swap_horiz</v-icon>\n        </div>\n        <app-ol-map\n          :miniViewOlMap=\"miniViewOlMap\"\n          class=\"fullscreen\"\n          ref=\"olmap\"\n        ></app-ol-map>\n      </div>\n    </div>\n    <!-- PRINT VIEW -->\n    <div v-show=\"print.active === true\">\n      <print-viewer></print-viewer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport appMap from \"./ol/Map\";\nimport appMapillary from \"./mapillary/Mapillary\";\nimport IsochronThematicData from \"../isochrones/IsochroneThematicData.vue\";\nimport PrintViewer from \"./print/PrintViewer\";\nimport { mapGetters } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\n\nexport default {\n  name: \"app-viewer\",\n  components: {\n    \"app-ol-map\": appMap,\n    \"app-mapillary\": appMapillary,\n    \"isochrone-thematic-data\": IsochronThematicData,\n    \"print-viewer\": PrintViewer\n  },\n  data() {\n    return {\n      miniViewOlMap: false,\n      mapillaryAccessToken:\n        \"MLY|4945732362162775|a3872ee8a2b737be51db110cdcdea3d4\"\n    };\n  },\n  computed: {\n    ...mapGetters(\"app\", {\n      appColor: \"appColor\"\n    }),\n    ...mapGetters(\"map\", {\n      print: \"print\",\n      studyArea: \"studyArea\"\n    }),\n    ...mapFields(\"map\", {\n      isMapillaryBtnDisabled: \"isMapillaryBtnDisabled\",\n      miniViewerVisible: \"miniViewerVisible\"\n    })\n  },\n  methods: {\n    switchViews() {\n      this.miniViewOlMap = !this.miniViewOlMap;\n      this.updateViews();\n    },\n    updateViews() {\n      setTimeout(() => {\n        const mapillaryRef = this.$refs[\"mapillary\"];\n        const olMapRef = this.$refs[\"olmap\"];\n        if (mapillaryRef) {\n          mapillaryRef.mapillary.resize();\n        }\n        if (olMapRef) {\n          olMapRef.map.updateSize();\n        }\n      }, 90);\n    },\n    closeMiniView() {\n      this.miniViewerVisible = false;\n      this.miniViewOlMap = false;\n      this.updateViews();\n    }\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.switch-button {\n  position: absolute;\n  top: 10px;\n  right: 2px;\n  z-index: 1;\n}\n\n.miniviewer-button {\n  position: absolute;\n  top: 190px;\n  left: 8px;\n  z-index: 1;\n}\n\n.miniview {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  right: 8px;\n\n  height: 300px;\n  max-height: 40%;\n  max-width: 500px;\n\n  overflow: hidden;\n  opacity: 1;\n  z-index: 10;\n  background-color: white;\n  box-shadow: 0 0 4px #00000060;\n  border-radius: 8px;\n  z-index: 3;\n}\n\n#switch-triangle {\n  content: \"\";\n  position: absolute;\n  top: -60px;\n  right: -60px;\n  height: 100px;\n  width: 100px;\n  opacity: 0.8;\n  background: rgba(0, 0, 0, 0.5);\n  transform: rotate(45deg);\n  z-index: 20;\n  cursor: pointer;\n}\n\n.swap-icon {\n  position: absolute;\n  bottom: -5px;\n  right: 35px;\n}\n\n#close-miniview {\n  content: \"\";\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  border-radius: 15px;\n  height: 24px;\n  width: 24px;\n  opacity: 0.8;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 20;\n  cursor: pointer;\n}\n\n#mapillaryAttribution {\n  position: absolute;\n  bottom: 0px;\n  padding-right: 4px;\n  left: 0px;\n  border-radius: 0px;\n  opacity: 0.9;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 20;\n  cursor: pointer;\n}\n\n.close-icon {\n  position: absolute;\n}\n</style>\n"]}]}