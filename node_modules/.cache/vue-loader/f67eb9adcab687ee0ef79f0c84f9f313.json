{"remainingRequest":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/filter/PoisAoisTree.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/src/components/layers/filter/PoisAoisTree.vue","mtime":1657636289855},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/css-loader/index.js","mtime":1657636580953},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1657636583241},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/postcss-loader/src/index.js","mtime":1657636582109},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vuetify-loader/lib/loader.js","mtime":1657636582513},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/cache-loader/dist/cjs.js","mtime":1657636581841},{"path":"/home/ebubeker/Desktop/programming/work tasks/goat/app/client/node_modules/vue-loader/lib/index.js","mtime":1657636582549}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.arrow-icons {\n  color: \"#4A4A4A\";\n}\n.arrow-icons:hover {\n  cursor: pointer;\n  color: #30c2ff;\n}\n\n.pois-icon {\n  margin-bottom: 15px;\n}\n.v-treeview-node--leaf {\n  margin-left: 30px;\n}\n.v-treeview-node__content,\n.v-treeview-node__label {\n  flex-shrink: 1;\n}\n.tree-label-custom {\n  display: block;\n  width: 150px;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.v-treeview-node--leaf > .v-treeview-node__root {\n  padding-left: 5px;\n  padding-right: 4px;\n}\n\n.tree-node-view-background {\n  background-color: #f5f5f5;\n}\n",{"version":3,"sources":["PoisAoisTree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"PoisAoisTree.vue","sourceRoot":"src/components/layers/filter","sourcesContent":["<template>\n  <div>\n    <v-tooltip top>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          v-on=\"on\"\n          class=\"mt-n11 ml-2\"\n          :color=\"appColor.primary\"\n          fab\n          dark\n          small\n          @click=\"showDataUploadDialog = true\"\n        >\n          <v-icon dark>add</v-icon>\n        </v-btn>\n      </template>\n      <span>Upload POI Dataset</span></v-tooltip\n    >\n\n    <v-treeview\n      :key=\"treeViewKey\"\n      v-model=\"selectedPoisAois\"\n      :open=\"open\"\n      @update:open=\"openNode\"\n      :items=\"poisAoisTree\"\n      activatable\n      open-on-click\n      dense\n      selectable\n      rounded\n      return-object\n      item-key=\"value\"\n      item-disabled=\"isLocked\"\n      :selected-color=\"appColor.primary\"\n      active-class=\"grey lighten-4 indigo--text \"\n      on-icon=\"check_box\"\n      off-icon=\"check_box_outline_blank\"\n      indeterminate-icon=\"indeterminate_check_box\"\n    >\n      <template v-slot:prepend=\"{ item }\">\n        <v-tooltip\n          top\n          :disabled=\"Array.isArray(item.children) || !!aoisConfig[item.value]\"\n        >\n          <template v-slot:activator=\"{ on }\">\n            <i\n              v-on=\"on\"\n              @click=\"toggleIconPickerDialog(item)\"\n              :class=\"\n                item.icon +\n                  ' v-icon notranslate ml-1 v-icon--dense theme--light grey--text ml-1'\n              \"\n              :style=\"\n                Array.isArray(item.color) && item.color.length > 1\n                  ? `--fa-primary-color: ${item.color[0]};--fa-secondary-color: ${item.color[1]};width:20px;`\n                  : `color: ${item.color} !important;width:20px;`\n              \"\n            >\n            </i>\n          </template>\n          {{ $t(\"appBar.filter.poisSettings.changeIcon\") }}\n        </v-tooltip>\n      </template>\n      <template v-slot:label=\"{ item }\">\n        <div class=\"tree-label-custom\">\n          {{\n            item.name\n              ? item.name\n              : $te(`pois.${item.value}`)\n              ? $t(`pois.${item.value}`)\n              : item.value\n          }}\n        </div>\n      </template>\n      <template v-slot:append=\"{ item, open }\">\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <v-icon\n              :ref=\"item.value\"\n              v-on=\"on\"\n              v-if=\"item.hasUserData\"\n              v-show=\"!open\"\n              class=\"mr-2 mt-0 user-data-icon\"\n              x-small\n              :color=\"appColor.primary\"\n              >fa-solid fa-circle</v-icon\n            > </template\n          >{{ $t(\"appBar.filter.poisSettings.userDataSet\") }}</v-tooltip\n        >\n\n        <template v-if=\"isSensitivityEnabled(item) && !item.children\">\n          <v-tooltip top>\n            <template v-slot:activator=\"{ on }\">\n              <v-icon\n                @click=\"toggleHeatmapDialog(item)\"\n                small\n                v-on=\"on\"\n                class=\"arrow-icons mr-1\"\n              >\n                fas fa-cog\n              </v-icon>\n            </template>\n            <span>{{ $t(\"appBar.filter.poisSettings.buttonTooltip\") }}</span>\n          </v-tooltip>\n        </template>\n      </template>\n    </v-treeview>\n    <heatmap-options\n      :color=\"appColor.primary\"\n      :visible=\"showHeatmapOptionsDialog\"\n      :selectedAmenity=\"selectedAmenity\"\n      @close=\"showHeatmapOptionsDialog = false\"\n    />\n    <icon-picker\n      :color=\"appColor.primary\"\n      :visible=\"showIconPickerDialog\"\n      :selectedIcon=\"selectedIcon\"\n      @close=\"showIconPickerDialog = false\"\n    >\n    </icon-picker>\n    <user-data-upload\n      :visible=\"showDataUploadDialog\"\n      @close=\"showDataUploadDialog = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Mapable } from \"../../../mixins/Mapable\";\nimport { mapGetters } from \"vuex\";\nimport { mapMutations } from \"vuex\";\nimport { mapFields } from \"vuex-map-fields\";\n// Child components\nimport HeatmapOptions from \"./HeatmapOptions\";\nimport IconPicker from \"../../other/IconPicker\";\nimport UserDataUploadDialog from \"../../core/UserDataUploadDialog.vue\";\n\n// TODO: Fix sensitivity settings for every pois\n\nexport default {\n  mixins: [Mapable],\n  components: {\n    \"heatmap-options\": HeatmapOptions,\n    \"icon-picker\": IconPicker,\n    \"user-data-upload\": UserDataUploadDialog\n  },\n  data() {\n    return {\n      open: [],\n      showHeatmapOptionsDialog: false,\n      showDataUploadDialog: false,\n      showIconPickerDialog: false,\n      selectedIcon: {},\n      selectedAmenity: {}\n    };\n  },\n\n  methods: {\n    toggleHeatmapDialog(amenity) {\n      this.selectedAmenity = amenity;\n      this.showHeatmapOptionsDialog = true;\n    },\n    toggleIconPickerDialog(icon) {\n      // Disable icon style change for groups and aois\n      if (icon.children || this.aoisConfig[icon.value]) {\n        return;\n      }\n      this.selectedIcon = icon;\n      this.showIconPickerDialog = true;\n    },\n    isSensitivityEnabled(item) {\n      if (this.aoisConfig[item.value]) {\n        return false;\n      }\n      return true;\n    },\n    openNode() {\n      this.addBackgroundColorToTreeNode();\n    },\n    addBackgroundColorToTreeNode() {\n      this.$nextTick(() => {\n        this.$nextTick(() => {\n          const elements = document.querySelectorAll(\".user-data-icon\");\n          elements.forEach(element => {\n            let parentEl = element.parentElement.parentElement;\n            if (element.style.display !== \"none\") {\n              if (\n                parentEl.classList.contains(\"v-treeview-node__root\") ||\n                parentEl.classList.contains(\"v-treeview-node\")\n              ) {\n                parentEl.classList.add(\"tree-node-view-background\");\n              }\n            } else {\n              parentEl.classList.remove(\"tree-node-view-background\");\n            }\n          });\n        });\n      });\n    },\n    getIconColor(item) {\n      if (!item.color) {\n        return \"grey\";\n      }\n      return item.color[0];\n    },\n    ...mapMutations(\"map\", {\n      toggleSnackbar: \"TOGGLE_SNACKBAR\"\n    })\n  },\n  watch: {\n    open() {\n      console.log(\"opened....\");\n    },\n    uploadedData() {\n      this.treeViewKey += 1;\n    }\n  },\n  computed: {\n    ...mapGetters(\"app\", {\n      appColor: \"appColor\",\n      poisAoisTree: \"poisAoisTree\",\n      uploadedData: \"uploadedData\",\n      aoisConfig: \"aoisConfig\"\n    }),\n    ...mapFields(\"app\", {\n      calculationMode: \"calculationMode\",\n      layerTabIndex: \"layerTabIndex\"\n    }),\n    ...mapFields(\"poisaois\", {\n      poisAoisLayer: \"poisAoisLayer\",\n      selectedPoisAois: \"selectedPoisAois\",\n      poisAois: \"poisAois\",\n      treeViewKey: \"treeViewKey\"\n    })\n  }\n};\n</script>\n<style lang=\"css\">\n.arrow-icons {\n  color: \"#4A4A4A\";\n}\n.arrow-icons:hover {\n  cursor: pointer;\n  color: #30c2ff;\n}\n\n.pois-icon {\n  margin-bottom: 15px;\n}\n.v-treeview-node--leaf {\n  margin-left: 30px;\n}\n.v-treeview-node__content,\n.v-treeview-node__label {\n  flex-shrink: 1;\n}\n.tree-label-custom {\n  display: block;\n  width: 150px;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.v-treeview-node--leaf > .v-treeview-node__root {\n  padding-left: 5px;\n  padding-right: 4px;\n}\n\n.tree-node-view-background {\n  background-color: #f5f5f5;\n}\n</style>\n"]}]}